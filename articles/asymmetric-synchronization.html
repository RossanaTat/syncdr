<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Asymmetric Synchronization Functions • syncdr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Asymmetric Synchronization Functions">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">syncdr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/syncdr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/visualizations.html">Visualizations</a></li>
    <li><a class="dropdown-item" href="../articles/asymmetric-synchronization.html">Asymmetric Synchronization Functions</a></li>
    <li><a class="dropdown-item" href="../articles/symmetric-synchronization.html">Symmetric Synchronization</a></li>
    <li><a class="dropdown-item" href="../articles/auxiliary-functions.html">Auxiliary Functions</a></li>
    <li><a class="dropdown-item" href="../articles/additional-options.html">Additional Sync Controls: Backup and Force</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RossanaTat/syncdr"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Asymmetric Synchronization Functions</h1>
            
      

      <div class="d-none name"><code>asymmetric-synchronization.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rossanatat.github.io/syncdr/">syncdr</a></span><span class="op">)</span></span>
<span><span class="co">#devtools::load_all(".")</span></span>
<span></span>
<span><span class="co"># Create .syncdrenv</span></span>
<span><span class="va">.syncdrenv</span> <span class="op">=</span> <span class="fu"><a href="../reference/toy_dirs.html">toy_dirs</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">■■■■■■■■■                       </span>  27% | ETA:  8s</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■             </span>  60% | ETA:  5s</span></span>
<span></span>
<span><span class="co"># Get left and right directories' paths </span></span>
<span><span class="va">left</span>  <span class="op">&lt;-</span> <span class="va">.syncdrenv</span><span class="op">$</span><span class="va">left</span></span>
<span><span class="va">right</span> <span class="op">&lt;-</span> <span class="va">.syncdrenv</span><span class="op">$</span><span class="va">right</span></span></code></pre></div>
<p>This article covers functions designed for <strong><em>asymmetric
synchronization</em></strong> between two directories.</p>
<div class="section level2">
<h2 id="what-is-asymmetric-synchronization">What is asymmetric synchronization?<a class="anchor" aria-label="anchor" href="#what-is-asymmetric-synchronization"></a>
</h2>
<p>This is a <strong>one-way</strong> synchronization: you have a
<em>master/leader</em> directory, and you want changes made there to be
reflected in a <em>secondary/follower</em> directory.</p>
<p>⏭️ For all synchronization functions below, note that synchronization
occurs <strong><em>from left to right.</em></strong> This mean that the
right directory will <strong>mirror</strong> the contents of the left
directory.</p>
<p><strong>Key Points:</strong></p>
<p>When using these synchronization functions, you have two options for
providing inputs:</p>
<ol style="list-style-type: decimal">
<li><p>Specify the paths for both the left and right directories, and
set the <code>by_date</code> and <code>by_content</code> arguments as
desired (default: <code>by_date = TRUE</code> and
<code>by_content = FALSE</code>).</p></li>
<li><p>First, use the <code><a href="../reference/compare_directories.html">compare_directories()</a></code> function to
generate a sync_status object. Then, provide this object as input to the
synchronization function. The <code>by_date</code> and
<code>by_content</code> arguments will be automatically determined based
on the <code>sync_status</code>.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="types-of-asymmetric-synchronization">Types of asymmetric synchronization<a class="anchor" aria-label="anchor" href="#types-of-asymmetric-synchronization"></a>
</h2>
<p><code>syncdr</code> allows to perform a <strong><em>specific set of
asymmetric synchronization actions</em></strong>, so that you can choose
which one to execute depending on your needs</p>
<table style="width:100%;" class="table">
<caption>Types of asymmetric synchronization</caption>
<colgroup>
<col width="18%">
<col width="45%">
<col width="35%">
</colgroup>
<thead><tr class="header">
<th><div style="color:#0070FF">
<p>Type of synchronization</p>
</div></th>
<th><div style="color:#0070FF">
<p>Actions on common files</p>
</div></th>
<th><div style="color:#0070FF">
<p>Actions on non-common files</p>
</div></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>
<p>Full asymmetric synchronization:</p>
<p><strong><code><a href="../reference/full_asym_sync_to_right.html">full_asym_sync_to_right()</a></code></strong></p>
</td>
<td><ul>
<li>If comparing by date only (<code>by_date = TRUE</code>): Copy files
that are newer in the left directory to the right directory.</li>
<li>If comparing by date and content (<code>by_date = TRUE</code> and
<code>by_content = TRUE</code>): Copy files that are newer and different
in the left directory to the right directory.</li>
<li>If comparing by content only (<code>by_content = TRUE</code>): Copy
files that are different in the left directory to the right
directory</li>
</ul></td>
<td><ul>
<li><p>Copy to the right directory those files that exist only in the
left directory.</p></li>
<li><p>Delete from the right directory those files that are exclusive in
the right directory (i.e., missing in the left directory)</p></li>
</ul></td>
</tr>
<tr class="even">
<td>
<p>Partial asymmetric synchronization -common files:</p>
<p><strong><code><a href="../reference/common_files_asym_sync_to_right.html">common_files_asym_sync_to_right()</a></code></strong></p>
</td>
<td><ul>
<li><p>if <code>by_date = TRUE</code> only: copy files that are newer in
left to right</p></li>
<li><p>if <code>by date = TRUE</code> and
<code>by_content = TRUE</code>: copy files that are newer and different
in left to right</p></li>
<li><p>if <code>by_content = TRUE</code> only: copy files that are
different in left to right</p></li>
</ul></td>
<td>no actions</td>
</tr>
<tr class="odd">
<td>
<p>Full asymmetric synchronization of non common files</p>
<p><strong><code><a href="../reference/update_missing_files_asym_to_right.html">update_missing_files_asym_to_right()</a></code></strong></p>
</td>
<td>no actions</td>
<td><ul>
<li><p>copy those files that are only in left to right</p></li>
<li><p>delete in right those files that are only in right (i.e., files
“only in right” or in other words missing in left)</p></li>
</ul></td>
</tr>
<tr class="even">
<td>
<p>Partial asymmetric asymmetric synchronization of non common
files:</p>
<p><strong><code><a href="../reference/partial_update_missing_files_asym_to_right.html">partial_update_missing_files_asym_to_right()</a></code></strong></p>
</td>
<td>no actions</td>
<td><ul>
<li><p>copy those files that are only in left to right</p></li>
<li><p>keep in right those files that are only in right (i.e., files
‘missing in left’)</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>Let’s see them in actions through the examples below:</p>
<div class="section level5">
<h5 id="note-verbose-true">*️⃣ <strong>Note: <code>verbose = TRUE</code></strong><a class="anchor" aria-label="anchor" href="#note-verbose-true"></a>
</h5>
<p>When executing any synchronization, you have the option to enable
verbose mode by setting <code>verbose = TRUE</code>. This will display
the tree structure of <em>both</em> directories BEFORE and AFTER the
synchronization</p>
<p><strong>1 - Full asymmetric synchronization:</strong></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># With leader/master directory being the left directory </span></span>
<span><span class="co"># Option 1 </span></span>
<span><span class="fu"><a href="../reference/full_asym_sync_to_right.html">full_asym_sync_to_right</a></span><span class="op">(</span>left_path  <span class="op">=</span> <span class="va">left</span>,</span>
<span>                        right_path <span class="op">=</span> <span class="va">right</span>,</span>
<span>                        by_content <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00FFAF; font-weight: bold;">✔ synchronized</span></span></span>
<span><span class="co"><span style="color: #00FFAF; font-weight: bold;">#&gt; </span></span></span>
<span><span class="co"># Option 2</span></span>
<span><span class="va">sync_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_directories.html">compare_directories</a></span><span class="op">(</span>left_path  <span class="op">=</span> <span class="va">left</span>,</span>
<span>                                   right_path <span class="op">=</span> <span class="va">right</span>,</span>
<span>                                   by_content <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/full_asym_sync_to_right.html">full_asym_sync_to_right</a></span><span class="op">(</span>sync_status <span class="op">=</span> <span class="va">sync_status</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00FFAF; font-weight: bold;">✔ synchronized</span></span></span>
<span><span class="co"><span style="color: #00FFAF; font-weight: bold;">#&gt; </span></span></span>
<span></span>
<span><span class="co"># With leader/master directory being the right directory </span></span>
<span><span class="va">sync_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_directories.html">compare_directories</a></span><span class="op">(</span>left_path  <span class="op">=</span> <span class="va">right</span>,  <span class="co">#notice args changing here</span></span>
<span>                                   right_path <span class="op">=</span> <span class="va">left</span>,</span>
<span>                                   by_content <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/full_asym_sync_to_right.html">full_asym_sync_to_right</a></span><span class="op">(</span>sync_status <span class="op">=</span> <span class="va">sync_status</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00FFAF; font-weight: bold;">✔ synchronized</span></span></span>
<span><span class="co"><span style="color: #00FFAF; font-weight: bold;">#&gt; </span></span></span></code></pre></div>
<p><strong>2 - Partial asymmetric synchronization -common
files:</strong></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">sync_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_directories.html">compare_directories</a></span><span class="op">(</span>left_path  <span class="op">=</span> <span class="va">left</span>,</span>
<span>                                   right_path <span class="op">=</span> <span class="va">right</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/common_files_asym_sync_to_right.html">common_files_asym_sync_to_right</a></span><span class="op">(</span>sync_status <span class="op">=</span> <span class="va">sync_status</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00FFAF; font-weight: bold;">✔ synchronized</span></span></span>
<span><span class="co"><span style="color: #00FFAF; font-weight: bold;">#&gt; </span></span></span></code></pre></div>
<p><strong>3 - Full asymmetric synchronization -non common
files:</strong></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">sync_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_directories.html">compare_directories</a></span><span class="op">(</span>left_path  <span class="op">=</span> <span class="va">left</span>,</span>
<span>                                   right_path <span class="op">=</span> <span class="va">right</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/update_missing_files_asym_to_right.html">update_missing_files_asym_to_right</a></span><span class="op">(</span>sync_status <span class="op">=</span> <span class="va">sync_status</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00FFAF; font-weight: bold;">✔ synchronized</span></span></span>
<span><span class="co"><span style="color: #00FFAF; font-weight: bold;">#&gt; </span></span></span></code></pre></div>
<p><strong>4 - Partial asymmetric synchronization -non common
files:</strong></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">sync_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_directories.html">compare_directories</a></span><span class="op">(</span>left_path  <span class="op">=</span> <span class="va">left</span>,</span>
<span>                                   right_path <span class="op">=</span> <span class="va">right</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/partial_update_missing_files_asym_to_right.html">partial_update_missing_files_asym_to_right</a></span><span class="op">(</span>sync_status <span class="op">=</span> <span class="va">sync_status</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00FFAF; font-weight: bold;">✔ synchronized</span></span></span>
<span><span class="co"><span style="color: #00FFAF; font-weight: bold;">#&gt; </span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="synchronizing-using-additional-options">Synchronizing Using Additional Options<a class="anchor" aria-label="anchor" href="#synchronizing-using-additional-options"></a>
</h2>
<p>To retain more control over the synchronization process, you can
utilize two additional options available for all synchronization
functions: backup and force.</p>
<ul>
<li><p><strong>Backup Option</strong>: Setting
<code>backup = TRUE</code> will create a backup (copy) of the right
directory before performing the synchronization. This backup is stored
in the location specified by <code>backup_dir</code>. If
<code>backup_dir</code> is not provided, the backup will be saved in a
temporary directory (<code>tempdir</code>). This ensures that you can
revert to the previous state if needed</p></li>
<li><p><strong>Force</strong> <strong>Option</strong>: By default, force
= TRUE, which means the function will proceed directly with the
synchronization without any interruptions. If you set force = FALSE, the
function will first display a preview of the proposed actions, including
which files will be copied and which will be deleted. You will be
prompted to confirm whether you wish to proceed with these actions.
Synchronization will only continue if you agree; otherwise, it will be
aborted, and no changes will be made to the directories.</p></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by R.Andres Castaneda, Rossana Tatulli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
