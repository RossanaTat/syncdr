<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Additional Sync Controls: Backup and Force • syncdr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Additional Sync Controls: Backup and Force">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">syncdr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/syncdr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/visualizations.html">Visualizations</a></li>
    <li><a class="dropdown-item" href="../articles/asymmetric-synchronization.html">Asymmetric Synchronization Functions</a></li>
    <li><a class="dropdown-item" href="../articles/symmetric-synchronization.html">Symmetric Synchronization</a></li>
    <li><a class="dropdown-item" href="../articles/auxiliary-functions.html">Auxiliary Functions</a></li>
    <li><a class="dropdown-item" href="../articles/additional-options.html">Additional Sync Controls: Backup and Force</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RossanaTat/syncdr"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Additional Sync Controls: Backup and Force</h1>
            
      

      <div class="d-none name"><code>additional-options.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rossanatat.github.io/syncdr/">syncdr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="synchronizing-using-additional-options">Synchronizing Using Additional Options<a class="anchor" aria-label="anchor" href="#synchronizing-using-additional-options"></a>
</h2>
<p>To retain more control over the synchronization process, you can
utilize two additional options available for all synchronization
functions: backup and force.</p>
<ul>
<li><p><strong>Backup Option</strong>: Setting
<code>backup = TRUE</code> will create a backup (copy) of the right
directory before performing the synchronization. This backup is stored
in the location specified by <code>backup_dir</code>. If
<code>backup_dir</code> is not provided, the backup will be saved in a
temporary directory (<code>tempdir</code>). This ensures that you can
revert to the previous state if needed</p></li>
<li><p><strong>Force</strong> <strong>Option</strong>: By default,
<code>force = TRUE</code>, make all functions proceed directly with the
synchronization without user’s confirmation. However, to avoid
unintended changes to your directories, you can set
<code>force = FALSE</code>. This way the function will first display a
preview of the proposed actions, including which files will be copied
and which will be deleted. You will be prompted to confirm whether you
wish to proceed with these actions. Synchronization will only continue
if you agree; otherwise, it will be aborted, and no changes will be made
to the directories.</p></li>
</ul>
<p>For example, suppose you are performing a full asymmetric
synchronization of your, say, left and right directories. This type of
synchronization entails that certain files will be copied over to the
right directory, as well as that certain files will be deleted from
it.</p>
<p>To maintain greater control over the process, you can allow the
function to perform the synchronization while simultaneously storing a
copy of the original directory before any changes occur. This way, you
can revert to the original if needed.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># generate toy directories</span></span>
<span><span class="va">e</span>     <span class="op">&lt;-</span> <span class="fu"><a href="../reference/toy_dirs.html">toy_dirs</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">■■■■■■■                         </span>  20% | ETA:  8s</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■               </span>  53% | ETA:  6s</span></span>
<span></span>
<span><span class="va">.syncdrenv.1</span> <span class="op">&lt;-</span> <span class="fu">syncdr</span><span class="fu">:::</span><span class="fu"><a href="../reference/copy_temp_environment.html">copy_temp_environment</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get left and right directories' paths </span></span>
<span><span class="va">left</span>  <span class="op">&lt;-</span> <span class="va">.syncdrenv.1</span><span class="op">$</span><span class="va">left</span></span>
<span><span class="va">right</span> <span class="op">&lt;-</span> <span class="va">.syncdrenv.1</span><span class="op">$</span><span class="va">right</span></span>
<span></span>
<span><span class="va">sync_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_directories.html">compare_directories</a></span><span class="op">(</span><span class="va">left</span>, <span class="va">right</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># call sync function</span></span>
<span><span class="fu"><a href="../reference/full_asym_sync_to_right.html">full_asym_sync_to_right</a></span><span class="op">(</span>sync_status <span class="op">=</span> <span class="va">sync_status</span>,</span>
<span>                        backup      <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00FFAF; font-weight: bold;">✔ synchronized</span></span></span>
<span><span class="co"><span style="color: #00FFAF; font-weight: bold;">#&gt; </span></span></span></code></pre></div>
<p>Another option is to visualize a preliminary check, before the
synchronization takes place. This can be done taking advantage of the
force option. Note that prompt for user confirmation will work when you
run the function interactively in your R session. However, this
interactive prompt will not be functional within this article.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/full_asym_sync_to_right.html">full_asym_sync_to_right</a></span><span class="op">(</span>sync_status <span class="op">=</span> <span class="va">sync_status</span>,</span>
<span>                        force      <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #FF8700; font-weight: bold;">These files will be DELETED in right</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; |Files               |Action        |</span></span>
<span><span class="co">#&gt; |:-------------------|:-------------|</span></span>
<span><span class="co">#&gt; |/C/C1_duplicate.Rds |To be deleted |</span></span>
<span><span class="co">#&gt; |/D/D3.Rds           |To be deleted |</span></span>
<span><span class="co">#&gt; |/E/E1.Rds           |To be deleted |</span></span>
<span><span class="co">#&gt; |/E/E2.Rds           |To be deleted |</span></span>
<span><span class="co">#&gt; |/E/E3.Rds           |To be deleted |</span></span>
<span><span class="co">#&gt; <span style="color: #00D7FF; font-weight: bold;">These files will be COPIED (overwriting if present) to right </span></span></span>
<span><span class="co"><span style="color: #00D7FF; font-weight: bold;">#&gt; </span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; |Files     |Action       |</span></span>
<span><span class="co">#&gt; |:---------|:------------|</span></span>
<span><span class="co">#&gt; |/A/A1.Rds |To be copied |</span></span>
<span><span class="co">#&gt; |/A/A2.Rds |To be copied |</span></span>
<span><span class="co">#&gt; |/A/A3.Rds |To be copied |</span></span>
<span><span class="co">#&gt; |/B/B3.Rds |To be copied |</span></span>
<span><span class="co">#&gt; Do you want to proceed? Type your answer (Yes/no/cancel) </span></span>
<span><span class="co">#&gt; <span style="color: #00FFAF; font-weight: bold;">✔ synchronized</span></span></span>
<span><span class="co"><span style="color: #00FFAF; font-weight: bold;">#&gt; </span></span></span>
<span></span>
<span><span class="co">#You will need to type `no` or 'cancel' to stop the synchronization</span></span></code></pre></div>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by R.Andres Castaneda, Rossana Tatulli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
