<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="syncdr">
<title>Additional Sync Controls: Backup and Force • syncdr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Additional Sync Controls: Backup and Force">
<meta property="og:description" content="syncdr">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">syncdr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.0.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/syncdr.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/visualizations.html">Visualizations</a>
    <a class="dropdown-item" href="../articles/asymmetric-synchronization.html">Asymmetric Synchronization Functions</a>
    <a class="dropdown-item" href="../articles/symmetric-synchronization.html">Symmetric Synchronization</a>
    <a class="dropdown-item" href="../articles/auxiliary-functions.html">Auxiliary Functions</a>
    <a class="dropdown-item" href="../articles/additional-options.html">Additional Sync Controls: Backup and Force</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/RossanaTat/syncdr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Additional Sync Controls: Backup and Force</h1>
            
      
      
      <div class="d-none name"><code>additional-options.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rossanatat.github.io/syncdr/">syncdr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="synchronizing-using-additional-options">Synchronizing Using Additional Options<a class="anchor" aria-label="anchor" href="#synchronizing-using-additional-options"></a>
</h2>
<p>To retain more control over the synchronization process, you can
utilize two additional options available for all synchronization
functions: backup and force.</p>
<ul>
<li><p><strong>Backup Option</strong>: Setting
<code>backup = TRUE</code> will create a backup (copy) of the right
directory before performing the synchronization. This backup is stored
in the location specified by <code>backup_dir</code>. If
<code>backup_dir</code> is not provided, the backup will be saved in a
temporary directory (<code>tempdir</code>). This ensures that you can
revert to the previous state if needed</p></li>
<li><p><strong>Force</strong> <strong>Option</strong>: By default,
<code>force = TRUE</code>, make all functions proceed directly with the
synchronization without user’s confirmation. However, to avoid
unintended changes to your directories, you can set
<code>force = FALSE</code>. This way the function will first display a
preview of the proposed actions, including which files will be copied
and which will be deleted. You will be prompted to confirm whether you
wish to proceed with these actions. Synchronization will only continue
if you agree; otherwise, it will be aborted, and no changes will be made
to the directories.</p></li>
</ul>
<p>For example, suppose you are performing a full asymmetric
synchronization of your, say, left and right directories. This type of
synchronization entails that certain files will be copied over to the
right directory, as well as that certain files will be deleted from
it.</p>
<p>To maintain greater control over the process, you can allow the
function to perform the synchronization while simultaneously storing a
copy of the original directory before any changes occur. This way, you
can revert to the original if needed.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># generate toy directories</span></span>
<span><span class="va">e</span>     <span class="op">&lt;-</span> <span class="fu"><a href="../reference/toy_dirs.html">toy_dirs</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">■■■■■■■ </span> 20% | ETA: 8s<span style="color: #00BB00;">■■■■■■■■■■■■■■■ </span> 47% | ETA:</span></span>
<span><span class="co">#&gt; 5s<span style="color: #00BB00;">■■■■■■■■■■■■■■■■■ </span> 53% | ETA: 5s<span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■ </span> 60% |</span></span>
<span><span class="co">#&gt; ETA: 4s<span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■■■■ </span> 87% | ETA: 1s</span></span>
<span></span>
<span><span class="va">.syncdrenv.1</span> <span class="op">&lt;-</span> <span class="fu">syncdr</span><span class="fu">:::</span><span class="fu"><a href="../reference/copy_temp_environment.html">copy_temp_environment</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get left and right directories' paths </span></span>
<span><span class="va">left</span>  <span class="op">&lt;-</span> <span class="va">.syncdrenv.1</span><span class="op">$</span><span class="va">left</span></span>
<span><span class="va">right</span> <span class="op">&lt;-</span> <span class="va">.syncdrenv.1</span><span class="op">$</span><span class="va">right</span></span>
<span></span>
<span><span class="va">sync_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_directories.html">compare_directories</a></span><span class="op">(</span><span class="va">left</span>, <span class="va">right</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># call sync function</span></span>
<span><span class="fu"><a href="../reference/full_asym_sync_to_right.html">full_asym_sync_to_right</a></span><span class="op">(</span>sync_status <span class="op">=</span> <span class="va">sync_status</span>,</span>
<span>                        backup      <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00FFAF; font-weight: bold;">✔ synchronized</span></span></span>
<span><span class="co"><span style="color: #00FFAF; font-weight: bold;">#&gt; </span></span></span></code></pre></div>
<p>Another option is to visualize a preliminary check, before the
synchronization takes place. This can be done taking advantage of the
force option. Note that prompt for user confirmation will work when you
run the function interactively in your R session. However, this
interactive prompt will not be functional within this article.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/full_asym_sync_to_right.html">full_asym_sync_to_right</a></span><span class="op">(</span>sync_status <span class="op">=</span> <span class="va">sync_status</span>,</span>
<span>                        force      <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #FF8700; font-weight: bold;">These files will be DELETED in right</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; |Files               |Action        |</span></span>
<span><span class="co">#&gt; |:-------------------|:-------------|</span></span>
<span><span class="co">#&gt; |/C/C1_duplicate.Rds |To be deleted |</span></span>
<span><span class="co">#&gt; |/D/D3.Rds           |To be deleted |</span></span>
<span><span class="co">#&gt; |/E/E1.Rds           |To be deleted |</span></span>
<span><span class="co">#&gt; |/E/E2.Rds           |To be deleted |</span></span>
<span><span class="co">#&gt; |/E/E3.Rds           |To be deleted |</span></span>
<span><span class="co">#&gt; <span style="color: #00D7FF; font-weight: bold;">These files will be COPIED (overwriting if present) to right </span></span></span>
<span><span class="co"><span style="color: #00D7FF; font-weight: bold;">#&gt; </span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; |Files     |Action       |</span></span>
<span><span class="co">#&gt; |:---------|:------------|</span></span>
<span><span class="co">#&gt; |/D/D1.Rds |To be copied |</span></span>
<span><span class="co">#&gt; |/D/D2.Rds |To be copied |</span></span>
<span><span class="co">#&gt; Do you want to proceed? Type your answer (Yes/no/cancel) </span></span>
<span><span class="co">#&gt; <span style="color: #00FFAF; font-weight: bold;">✔ synchronized</span></span></span>
<span><span class="co"><span style="color: #00FFAF; font-weight: bold;">#&gt; </span></span></span>
<span></span>
<span><span class="co">#You will need to type `no` or 'cancel' to stop the synchronization</span></span></code></pre></div>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by R.Andres Castaneda, Rossana Tatulli.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
